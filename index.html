<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Giải phương trình bậc 2</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 20px;
        background-image: url("https://hacom.vn/media/news/0604_hanoicomputer-hinh-nen-cute-co-chu-21.jpg");
      }

      .container {
        max-width: 600px;
        margin: auto;
        padding: 30px;
        border: 1px solid #cccccc;
        border-radius: 8px;
        background-color: #c0d8d1b8;
        display: none; /* Ẩn container ban đầu */
      }

      input {
        width: 100%;
        margin: 10px -10px;
        padding: 9px;
        font-size: 16px;
        border: 2px solid black;
        border-radius: 8px;
      }

      input:hover {
        background-color: #e6eceb;
      }

      button {
        padding: 10px 20px;
        font-size: 16px;
        background-color: #007bff;
        color: #ffffff;
        border: none;
        border-radius: 8px;
        cursor: pointer;
      }

      button:hover {
        background-color: #0056b3;
      }

      #result {
        margin-top: 20px;
        font-size: 18px;
        color: #333;
      }

      /* Nút chuyển qua lại */
      #toggleButton {
        margin-top: 20px;
        padding: 10px 20px;
        background-color: #28a745;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
      }

      #toggleButton:hover {
        background-color: #218838;
      }
      #h5 {
        position: absolute;
        top: -20px;
        left: 10px;
        font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS",
          sans-serif;
      }
      .container1 {
        background-color: #6f9cc6;
        border: 1px solid black;
        padding: 10px;
        position: absolute;
        top: 150px;
        left: 570px;
        display: grid;
        grid-template-columns: repeat(5, 1fr); /* 3 cột đều nhau */
        grid-template-rows: repeat(5, 100px);
        grid-gap: 10px; /* Khoảng cách giữa các item */
        border-radius: 20px;
      }
      #output {
        grid-column: span 5; /* Chiếm toàn bộ chiều rộng của grid */
        grid-row: span 1; /* Chiếm 1 hàng */
        padding: 8px;
        border: 1px solid #ccc;
        background-color: #f9f9f9;
        width: 400;
        font-size: 20px;
        color: #333;
        text-align: right;
        margin-top: 10px;
        border-radius: 10px;
      }
      .button {
        border-radius: 10px;
        background-color: #c8a8e9;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        height: 90px; /* Đặt chiều cao cho mỗi button */
        font-size: 16px; /* Đặt kích thước chữ */
        cursor: pointer; /* Thêm con trỏ khi hover */
        border: none;
      }
      button:hover {
        background-color: lightblue;
      }
    </style>
  </head>
  <body>
    <div id="screen1" class="container" style="display: block">
      <h2>Giải phương trình bậc 2</h2>
      <input type="number" id="a" placeholder="Nhập hệ số a" />
      <input type="number" id="b" placeholder="Nhập hệ số b" />
      <input type="number" id="c" placeholder="Nhập hệ số c" />
      <button id="cl">Giải phương trình</button>
      <div id="result"></div>
      <button id="toggleButton">Chuyển qua phần khác</button>
    </div>
    <div id="screen2" class="container">
      <div class="container1">
        <h5 id="h5">Casio by Trần Văn Gia Bảo</h5>
        <div id="output"></div>
        <button class="button" id="item1">9</button>
        <button class="button" id="item2">8</button>
        <button class="button" id="item3">7</button>
        <button class="button" id="item4">DEL</button>
        <button class="button" id="item5">AC</button>
        <button class="button" id="item6">4</button>
        <button class="button" id="item7">5</button>
        <button class="button" id="item8">6</button>
        <button class="button" id="item9">*</button>
        <button class="button" id="item10">/</button>
        <button class="button" id="item11">1</button>
        <button class="button" id="item12">2</button>
        <button class="button" id="item13">3</button>
        <button class="button" id="item14">+</button>
        <button class="button" id="item15">-</button>
        <button class="button" id="item16">0</button>
        <button class="button" id="item17">.</button>
        <button class="button" id="item18">x10</button>
        <button class="button" id="item19">Ans</button>
        <button class="button" id="item20">=</button>
      </div>

      <button id="backButton">Quay lại</button>
    </div>

    <script>
      const cl = document.getElementById("cl");
      const resultDiv = document.getElementById("result");
      const toggleButton = document.getElementById("toggleButton");
      const backButton = document.getElementById("backButton");
      const screen1 = document.getElementById("screen1");
      const screen2 = document.getElementById("screen2");

      // Hàm giải phương trình bậc 2
      cl.addEventListener("click", () => {
        const a = parseFloat(document.getElementById("a").value);
        const b = parseFloat(document.getElementById("b").value);
        const c = parseFloat(document.getElementById("c").value);

        if (isNaN(a) || isNaN(b) || isNaN(c)) {
          resultDiv.innerText = "Vui lòng nhập đầy đủ và chính xác các hệ số!";
          return;
        }

        const delta = b * b - 4 * a * c;

        if (delta < 0) {
          resultDiv.innerText = "Phương trình vô nghiệm.";
        } else if (delta === 0) {
          const x = -b / (2 * a);
          resultDiv.innerText = `Phương trình có nghiệm kép: x1 = x2 = ${x}`;
        } else {
          const x1 = (-b + Math.sqrt(delta)) / (2 * a);
          const x2 = (-b - Math.sqrt(delta)) / (2 * a);
          resultDiv.innerText = `Phương trình có 2 nghiệm phân biệt:\nx1 = ${x1}\nx2 = ${x2}`;
        }
      });

      // Nút chuyển qua phần khác
      toggleButton.addEventListener("click", () => {
        screen1.style.display = "none";
        screen2.style.display = "block";
      });

      // Nút quay lại màn hình trước
      backButton.addEventListener("click", () => {
        screen1.style.display = "block";
        screen2.style.display = "none";
      });

      let ansnow = "";
      let ans = "";
      let toantu = "";
      let x = "";
      let Anss = "";

      function reset() {
        document.getElementById("output").textContent =
          ansnow || toantu || ans || 0;
      }
      // for each là một phương thức ngắn gọn để k dùng vòng for cho phép chạy qua phần tử của arr và gán cho nó hành động. Dùng forEach thf phải có function để tạo hành động
      // ở đây ta đã tạo mảng buttons chạy từ querySelectorAll #buttons bằng cách chạy qua các id của buttons và gán nó vào mảng buttons
      const buttons = document.querySelectorAll(".button");
      buttons.forEach(
        (
          button // let(button = 0; button < buttons.length; button ++)
        ) => {
          button.addEventListener("click", () => {
            const value = button.textContent;
            if (value === "AC") {
              ansnow = "";
              toantu = "";
              ans = "";
            } else if (value === "DEL") {
              ansnow = ansnow.slice(0, -1);
            } else if (value === "=") {
              switch (toantu) {
                case "+":
                  ansnow = (parseFloat(ansnow) + parseFloat(ans)).toString();
                  break;
                case "-":
                  ansnow = (parseFloat(ansnow) - parseFloat(ans)).toString();
                  break;
                case "*":
                  ansnow = (parseFloat(ansnow) * parseFloat(ans)).toString();
                  break;
                case "/":
                  if (ans === "0") {
                    return;
                  } else {
                    ansnow = (parseFloat(ansnow) / parseFloat(ans)).toString();
                  }
                  break;
              }
            } else if (value === "x10") {
              ansnow = (parseFloat(ansnow) * 10).toString(); // Nhân số hiện tại với 10
            } else if (
              value === "+" ||
              value === "-" ||
              value === "*" ||
              value === "/"
            ) {
              x = ansnow;
              ans = ansnow;
              ansnow = "";
              toantu = value;
            } else {
              ansnow += value;
            }
            reset();
          });
        }
      );
    </script>
  </body>
</html>
